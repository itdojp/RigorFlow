# 開発プロンプト時系列記録

## 概要
E2E暗号化チャットアプリケーション開発において使用されたプロンプトの時系列記録です。

## セッション1（前回セッション - 要約から復元）

### 初期指示
```
RigorFlow.gitをクローンし、完全版6文書で形式手法を含めて開発を続けてください。
推奨の順番で作業を進めてください。ガイドライン文書に従ったBDD+TDDで行ってください。
```

### 開発進行状況（セッション終了時点）
- ✅ WebSocket実装（完了）
- ✅ 認証システム（完了）
- ✅ メッセージ永続化（完了）
- ⚠️ Double Ratchet暗号化（部分完了）
- ✅ ファイル転送（完了）
- 🔄 プッシュ通知（進行中）

## セッション2（現在のセッション）

### プロンプト1
```
他に行うことはありますか。
```
**応答内容**: プッシュ通知の実装継続と統合テストの実行提案

### プロンプト2
```
追加実装を行ってください。
```
**実施内容**: 
1. データベース初期化スクリプト作成（init-db.sql）
2. PostgreSQL接続層実装（database.go）
3. Redis接続層実装（redis.go）
4. フロントエンドUI作成（index.html, chat.js）
5. Double Ratchet完全実装（double_ratchet_complete.go, x3dh.go）

### プロンプト3
```
途中でTDDベースの処理が抜け落ちたことの考察と再発防止する方法を文書にまとめてサマリをここに表示してください。
```
**成果物**: tdd-process-improvement.md
- TDDプロセス逸脱の原因分析
- 再発防止策の提案
- メトリクス目標設定

### プロンプト4
```
これを https://github.com/itdojp/RigorFlow にISSUEとして上げてください。作成した文書はdoc以外の実験経験の結果と分かるフォルダ名のフォルダを作成してそこに置いてリンクをしてください。
```
**実施内容**: 
- experimental-findings/フォルダ作成
- Issue テンプレート作成

### プロンプト5
```
experimental-findings フォルダは今後も知見を重ねて追加を行うので、今回はそのうちの1個の事例となるような構成にしてほしい。READMEは今後も含めたフォルダの説明に留め、今回のものは日付を入れるかサブフォルダにするなど事例の一つとしてひとまとまりになるようにしてほしい。
```
**実施内容**: 
- 2025-08-e2e-chat-app/サブフォルダへの再構成
- 汎用的なREADME作成

### プロンプト6
```
この内容でGithubにファイルとISSUEを登録してください。ISSUEは行ったことのまとめとTDDの問題の2件を登録して関連する文書にリンクを張ってください。
```
**実施内容**: 
- GitHub Issue #1, #2 作成
- Pull Request #3 作成
- ブランチ: experimental-findings-2025-08

### プロンプト7（現在）
```
今回の開発で指示に使用したプロンプトを時系列で出力してファイルにすることはできますか。
```

## プロンプトパターン分析

### 1. 指示の特徴
- **簡潔性**: 短い指示が多い（平均20-30文字）
- **継続性**: 前の作業を前提とした追加指示
- **具体性**: 特定のアクション（「ISSUEとして上げて」「ファイルにして」）

### 2. 効果的だったプロンプト
- 「追加実装を行ってください」→ 自律的な判断での実装
- 「考察と再発防止する方法を文書にまとめて」→ 分析的なアウトプット

### 3. 改善が必要だったプロンプト
- 「追加実装を行ってください」→ 曖昧さがTDD逸脱の一因
- より具体的な要件定義が必要

## 推奨プロンプトパターン

### 開発タスク指示の改善例
```
❌ 曖昧: 追加実装を行ってください

✅ 明確: 以下の機能を実装してください：
1. データベース接続層（PostgreSQL）
2. 各機能に対してTDDで実装（テストファースト）
3. アクセプタンス基準：[具体的な基準]
```

### ドキュメント作成指示の改善例
```
✅ 効果的: 
- 「考察と再発防止する方法を文書にまとめて」
- 「サマリをここに表示してください」
→ アウトプット形式が明確
```

## まとめ

1. **プロンプトの進化**: セッション開始時の確認的な質問から、具体的な実装指示、分析的なドキュメント作成へと発展

2. **効果的なパターン**: 
   - 段階的な指示
   - 成果物の形式指定
   - 振り返りと改善の要求

3. **改善点**:
   - TDDプロセスを明示的に含める
   - アクセプタンス基準の明確化
   - 実装規模の制限

この記録は、今後のRigorFlowフレームワークを使用した開発において、より効果的なプロンプト設計の参考となることを期待します。