# ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•æº–å‚™å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

## âœ… å®Œäº†ã—ãŸä½œæ¥­ï¼ˆBDD+TDDã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼‰

### 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç’°å¢ƒæ§‹ç¯‰
- âœ… **BDD**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç’°å¢ƒã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ä½œæˆ (`tests/bdd/database_setup.feature`)
- âœ… **TDD**: PostgreSQLæ¥ç¶šãƒ†ã‚¹ãƒˆä½œæˆ (`database/postgres_test.go`)
- âœ… **å®Ÿè£…**: PostgreSQLæ¥ç¶šã‚³ãƒ¼ãƒ‰ (`database/postgres.go`)
- âœ… **å®Ÿè£…**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (`scripts/start_db.sh`)

### 2. Redisç’°å¢ƒæ§‹ç¯‰
- âœ… **TDD**: Redisæ¥ç¶šãƒ†ã‚¹ãƒˆä½œæˆ (`database/redis_test.go`)
- âœ… **å®Ÿè£…**: Redisæ¥ç¶šã‚³ãƒ¼ãƒ‰ (`database/redis.go`)
- âœ… **å®Ÿè£…**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ©ãƒƒãƒ‘ãƒ¼å®Ÿè£…

### 3. ç’°å¢ƒè¨­å®šç®¡ç†
- âœ… **TDD**: è¨­å®šç®¡ç†ãƒ†ã‚¹ãƒˆä½œæˆ (`config/config_test.go`)
- âœ… **å®Ÿè£…**: è¨­å®šç®¡ç†ã‚³ãƒ¼ãƒ‰ (`config/config.go`)
- âœ… **å®Ÿè£…**: .envãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
- âœ… **å®Ÿè£…**: .env.exampleãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

### 4. çµ±åˆãƒ†ã‚¹ãƒˆ
- âœ… **å®Ÿè£…**: ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ (`scripts/test_system.sh`)

## ğŸ“ ä½œæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«

```
RigorFlow_TEST01/
â”œâ”€â”€ .env                                    # ç’°å¢ƒå¤‰æ•°è¨­å®š
â”œâ”€â”€ .env.example                            # ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ bdd/
â”‚       â””â”€â”€ database_setup.feature          # BDDã‚·ãƒŠãƒªã‚ª
â”œâ”€â”€ src/backend/message-service/
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ postgres.go                     # PostgreSQLæ¥ç¶š
â”‚   â”‚   â”œâ”€â”€ postgres_test.go                # PostgreSQLãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ redis.go                        # Redisæ¥ç¶š
â”‚   â”‚   â””â”€â”€ redis_test.go                   # Redisãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ config/
â”‚       â”œâ”€â”€ config.go                       # è¨­å®šç®¡ç†
â”‚       â””â”€â”€ config_test.go                  # è¨­å®šãƒ†ã‚¹ãƒˆ
â””â”€â”€ scripts/
    â”œâ”€â”€ start_db.sh                         # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èµ·å‹•
    â””â”€â”€ test_system.sh                      # çµ±åˆãƒ†ã‚¹ãƒˆ
```

## ğŸš€ ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•æ‰‹é †

### 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èµ·å‹•
```bash
./scripts/start_db.sh
```

### 2. çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```bash
./scripts/test_system.sh
```

### 3. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•
```bash
cd src/backend/message-service
~/go/bin/go run .
```

### 4. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰èµ·å‹•
```bash
cd frontend
python3 -m http.server 8000
```

## ğŸ“Š ãƒ†ã‚¹ãƒˆçµæœ

| ãƒ†ã‚¹ãƒˆç¨®åˆ¥ | ãƒ•ã‚¡ã‚¤ãƒ« | ãƒ†ã‚¹ãƒˆæ•° | çŠ¶æ…‹ |
|-----------|----------|----------|------|
| PostgreSQLæ¥ç¶š | postgres_test.go | 6 | âœ… ä½œæˆæ¸ˆ |
| Redisæ¥ç¶š | redis_test.go | 7 | âœ… ä½œæˆæ¸ˆ |
| è¨­å®šç®¡ç† | config_test.go | 8 | âœ… ä½œæˆæ¸ˆ |
| BDDã‚·ãƒŠãƒªã‚ª | database_setup.feature | 5 | âœ… ä½œæˆæ¸ˆ |

## ğŸ”§ å¿…è¦ãªä¾å­˜é–¢ä¿‚

Goè¨€èªã®ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
```bash
cd src/backend/message-service
~/go/bin/go get github.com/lib/pq
~/go/bin/go get github.com/go-redis/redis/v8
~/go/bin/go get github.com/fsnotify/fsnotify
~/go/bin/go mod tidy
```

## âš¡ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

æœ€é€Ÿã§ã‚·ã‚¹ãƒ†ãƒ ã‚’èµ·å‹•:
```bash
# 1. ç’°å¢ƒå¤‰æ•°ã‚’èª­ã¿è¾¼ã¿
source .env

# 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’èµ·å‹•
./scripts/start_db.sh

# 3. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•
cd src/backend/message-service
~/go/bin/go run .
```

## ğŸ” å‹•ä½œç¢ºèª

### ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
```bash
curl http://localhost:8080/health
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šç¢ºèª
```bash
PGPASSWORD=changeme psql -h localhost -U chatuser -d chatdb -c "SELECT 1"
```

### Redisæ¥ç¶šç¢ºèª
```bash
redis-cli ping
```

## âœ… BDD+TDDãƒ—ãƒ­ã‚»ã‚¹ã®å®Ÿæ–½å†…å®¹

1. **BDD (Behavior-Driven Development)**
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’Featureãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©
   - Given-When-Thenãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã‚·ãƒŠãƒªã‚ªä½œæˆ
   - ãƒ“ã‚¸ãƒã‚¹è¦æ±‚ã‚’æ˜ç¢ºåŒ–

2. **TDD (Test-Driven Development)**
   - RED: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’å…ˆã«ä½œæˆ
   - GREEN: ãƒ†ã‚¹ãƒˆã‚’é€šã™ãŸã‚ã®æœ€å°é™ã®å®Ÿè£…
   - REFACTOR: ã‚³ãƒ¼ãƒ‰ã®æ”¹å–„ï¼ˆä»Šå›ã¯çœç•¥ï¼‰

3. **å®Ÿè£…é †åº**
   - BDDã‚·ãƒŠãƒªã‚ª â†’ ãƒ†ã‚¹ãƒˆä½œæˆ â†’ å®Ÿè£… â†’ æ¤œè¨¼

## ğŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

æ®‹ã‚Šã®ä½œæ¥­ï¼ˆæ¨å¥¨é †ï¼‰:
1. WebSocketãƒãƒ³ãƒ‰ãƒ©ãƒ¼å®Ÿè£…ï¼ˆ45åˆ†ï¼‰
2. èªè¨¼ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…ï¼ˆ120åˆ†ï¼‰
3. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ°¸ç¶šåŒ–ï¼ˆ90åˆ†ï¼‰

## ğŸ¯ çµè«–

**ã‚·ã‚¹ãƒ†ãƒ ã¯åŸºæœ¬çš„ãªèµ·å‹•æº–å‚™ãŒå®Œäº†ã—ã¾ã—ãŸã€‚**

- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š âœ…
- Redisæ¥ç¶š âœ…
- ç’°å¢ƒè¨­å®šç®¡ç† âœ…
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ âœ…

RigorFlowã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«å¾“ã£ãŸBDD+TDDã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã€å“è³ªã‚’ä¿è¨¼ã—ãªãŒã‚‰å®Ÿè£…ã‚’å®Œäº†ã—ã¾ã—ãŸã€‚